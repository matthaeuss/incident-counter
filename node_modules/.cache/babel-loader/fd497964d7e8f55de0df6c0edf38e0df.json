{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\n\nconst useFetch = function (url) {\n  _s();\n\n  let formatData = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : data => data;\n  const [response, setResponse] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const doRequest = async () => {\n    console.log('Fetching');\n    setLoading(true);\n    setError(null);\n    setResponse(null);\n\n    try {\n      const responseData = await fetch(url);\n      const data = await responseData.json();\n      setResponse(formatData(data));\n    } catch (error) {\n      setError(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    doRequest().catch(console.error);\n  }, [url, formatData]);\n  return [response, loading, error];\n};\n\n_s(useFetch, \"lMKKUC42XWbzYV3+Z2TVYT3BSBk=\");\n\nexport default useFetch;","map":{"version":3,"names":["useEffect","useState","useFetch","url","formatData","data","response","setResponse","loading","setLoading","error","setError","doRequest","console","log","responseData","fetch","json","catch"],"sources":["/home/matt/Dokumenty/repositories/star-wars/src/hooks/useFetch.js"],"sourcesContent":["import {useEffect, useState} from \"react\";\n\nconst useFetch = (url, formatData = (data) => data) => {\n    const[response, setResponse] = useState(null);\n    const[loading, setLoading] = useState(true);\n    const[error, setError] = useState(null)\n\n    const doRequest = async () => {\n        console.log('Fetching');\n\n        setLoading(true);\n        setError(null);\n        setResponse(null);\n\n        try {\n            const responseData = await fetch(url)\n            const data = await responseData.json()\n            setResponse(formatData(data));\n        } catch(error){\n            setError(error)\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    useEffect(() => {\n        doRequest().catch(console.error);\n    }, [url, formatData])\n\n    return[response, loading, error]\n}\n\nexport default useFetch;"],"mappings":";;AAAA,SAAQA,SAAR,EAAmBC,QAAnB,QAAkC,OAAlC;;AAEA,MAAMC,QAAQ,GAAG,UAACC,GAAD,EAAsC;EAAA;;EAAA,IAAhCC,UAAgC,uEAAlBC,IAAD,IAAUA,IAAS;EACnD,MAAK,CAACC,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,IAAD,CAAvC;EACA,MAAK,CAACO,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,IAAD,CAArC;EACA,MAAK,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,IAAD,CAAjC;;EAEA,MAAMW,SAAS,GAAG,YAAY;IAC1BC,OAAO,CAACC,GAAR,CAAY,UAAZ;IAEAL,UAAU,CAAC,IAAD,CAAV;IACAE,QAAQ,CAAC,IAAD,CAAR;IACAJ,WAAW,CAAC,IAAD,CAAX;;IAEA,IAAI;MACA,MAAMQ,YAAY,GAAG,MAAMC,KAAK,CAACb,GAAD,CAAhC;MACA,MAAME,IAAI,GAAG,MAAMU,YAAY,CAACE,IAAb,EAAnB;MACAV,WAAW,CAACH,UAAU,CAACC,IAAD,CAAX,CAAX;IACH,CAJD,CAIE,OAAMK,KAAN,EAAY;MACVC,QAAQ,CAACD,KAAD,CAAR;IACH,CAND,SAMU;MACND,UAAU,CAAC,KAAD,CAAV;IACH;EACJ,CAhBD;;EAkBAT,SAAS,CAAC,MAAM;IACZY,SAAS,GAAGM,KAAZ,CAAkBL,OAAO,CAACH,KAA1B;EACH,CAFQ,EAEN,CAACP,GAAD,EAAMC,UAAN,CAFM,CAAT;EAIA,OAAM,CAACE,QAAD,EAAWE,OAAX,EAAoBE,KAApB,CAAN;AACH,CA5BD;;GAAMR,Q;;AA8BN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}